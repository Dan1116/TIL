# 이펙티브자바_6
## 열거형(enum)과 어노테이션
### int 상수 대신 enum을 사용해라
* 열거 자료형( enumerated type) = 고정 개수의 상수들로 값이 구성되는 자료형
* 자바의 enum = 열거 상수별로 하나의 객체를 public static final 필드 형태로 제공
* enum 자료형은 실질적으로는 final로 선언된 것이나 마찬가지, 클라이언트가 접근할 수 있는 생성자가 없기 때문에 enum 자료형으로 새로운 객체를 생성하거나 계승을 통해 확장할 수 없기 때문에 , 이미 선언된 enum 상수 이외의 객체는 사용할 수 없다
* enum 자료형은 toString 메서드를 호출하면 인쇄 가능 문자열로 쉽게 변환
* enum 자료형은 임의의 메서드나 필드도 추가 할 수 있고, 임의의 인터페이스를 구현할 수도 있다
* enum 상수에 데이터를 넣으려면 객체 필드(instance field)를 선언하고 생성자를 통해 받은 데이터를 그 필드에 저장하면 된다
* enum 생성자 안에서는 enum의 static 필드를 접근할 수 없다(컴파일 시점에 상수인 static 필드는 제외), 생성자가 실행될 때 static 필드는 초기화된 상태가 아니기 때문에 필요한 제약
* 외부 (external) enum 자료형 상수별로 달리 동작하는 코드를 만들어야 할 때는 enum 상수에 switch 문을 적용하면 좋다
* enum을 사용해야할 때는 고정된 상수 집합이 필요할 때
* enum을 사용한 코드는 가독성도 높고, 안전하며, 더 강력, 상당수의 enum은 생성자나 멤버가 필요 없으나, 데이터 또는 그 데이터에 관계된 메서드를 추가해서 기능을 향상 시킨 enum도 많다

### ordinal 대신 객체 필드를 사용하라
* enum 상수에 연계되는 값을 ordinal을 사용해 표현하지 말고 객체 필드(instance field) 에 저장

### 비트 필드 (bit field) 대신 EnumSet 을 사용
* 집합을 비트 필드로 나타내면 비트 단위 산술 연산 ( bitwise arithmetic) 을 통해 합집합이나 교집합 등의 집합 연산도 효율적으로 실행할 수 있다
* Enumset 클래스는 Set 인터페이스를 구현, Set 기능을 제공할 뿐 아니라, 형 안전성, 상호 운용성(interoperability) 도 제공
* 열거 자료형을 집합에 사용해야 한다고 해서 비트 필드로 표현하지 않아도 된다, EnumSet 클래스를 사용

### ordinal을 배열 첨자로 사용하는 대신 EnumMap을 이용하라
* EnumMap 생성자는 키의 자료형을 나타내는 Class 객체를 인자로 받는다, 이런 Class 객체를 한정적 자료형 토큰( bounded type token)이라 부르는데, 실행시점 제네릭 자료형 정보(runtime generic type information)을 제공한다
* EnumMap으로 만든 맵의 맵은 내부적으로는 배열의 배열일 터이니, 메모리 요구량이나 수행 성능 측면에서 손해를 보는 일도 없을 터이고, 대신 프로그램은 더 명료해지고 안전해지며, 유지보수하기 쉬워진다

### 확장 가능한 enum을 만들어야 한다면 인터페이스를 이용
* enum 자료형이 임의의 인터페이스를 구현할 수 있으므로 연산 코드 자료형에 대한 인터페이스를 먼저 정의하고 해당 인터페이스를 구현하는 enum 자료형을 만들면 이 enum 자료형은 해당 인터페이스의 표준 구현 역할을 하게 된다
* 계승 가능 enum 자료형은 만들 수 없지만, 인터페이스를 만들고 그 인터페이스를 구현하는 기본 enum 자료형을 만들면 계승 가능 enum 자료형을 흉내 낼 수 있다

### 작명 패턴 대신 어노테이션을 사용하라
* 작명 패턴의 단점 -> 철자를 틀리면 알아채기 힘들다, 특정한 프로그램 요소에만 적용되도록 만들 수 없다는 것, 프로그램 요소에 인자를 전달할 마땅한 방법이 없다
* 어노테이션은 이 위의 문제점들을 해결할 수 있다
* 어노테이션 자료형 선언부에 붙는 어노테이션은 메타 어노테이션이라 부른다
* 표식 어노테이션 = 아무 인자도 받지 않으며, 어노테이션이 적용된 프로그램 요소에 특정한 표식을 다는 구실만 한다
* 어노테이션이 있으므로 더 이상은 작명 패턴에 기대면 안 된다
* 어노테이션을 사용하면 분석 도구가 제공하는 정보의 품질을 향상 시킬 수 있다

### Override 어노테이션은 일관되게 사용하라
* 상위 자료형에 선언된 메서드를 재정의한다는 사실을 표현 (abstract 클래스에서 abstarct 메서드를 재정의 할 때는 사용하지 않아도 된다)
* 추상 클래스나 인터페이스의 경우에는 그 상위 클래스나 상위 인터페이스 메서드를 재정의하는 모든 메서드에, abstarct 메서드건 아니건 상관없이 어노테이션을 붙일 필요가 있다

### 자료형을 정의할 때 표식 인터페이스를 사용하라
* 표식 인터페이스 = 아무 메서드도 선언하지 않는 인터페이스
* 표식 인터페이스의 장점 -> 표식 붙은 클래스가 만드는 객체들이 구현하는 자료형( 표식 어노테이션은 자료형이 아니다), 적용 범위를 좀 더 세밀하게 지정할 수 있다,  프로그램 안에서 어노테이션 자료형을 쓰기 시작한 뒤에도 더 많은 정보를 추가할 수 있다( default를 갖는 어노테이션 자료형 요소들을 추가하면 된다)
 