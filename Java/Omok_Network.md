# Omok_Network
## 기능 명세서 (사용자 입장)
* 게임에 입장하는 기능
* 준비완료 버튼을 누를 수 있는 기능
* 준비완료 버튼이 모두 눌리면 3,2,1 후 주사위를 굴릴 수 있는 기능
* 모두 주사위를 굴리면 게임 시작
* 
* 주사위 결과에 따라 자신의 바둑돌을 알 수 있는(표시 받는) 기능
* 차례를 알 수 있는 기능
* 바둑돌을 놓을 수 있는 기능
* 게임이 끝났을 경우 대기화면으로 나가거나 게임을 종료할 수 있는 기능
* 상대 플레이어가 게임 도중 나갔을 경우 대기화면으로 나가거나 게임을 종료할 수 있는 기능

## 기술 명세서 (프로그램 입장)
* 들어온 플레이어를 확인
* 두 플레이어가 모두 들어오면 준비완료 버튼 활성화
* 준비완료 버튼이 모두 눌리면 3,2,1이 표시되고, 주사위를 굴릴 수 있는 기능
* 주사위 결과가 큰 플레이어는 흑, 작은 플레이어는 백을 할당하는 기능
* 바둑돌 색이 할당되면 게임 시작
* (게임 상태 : 대기 -> 진행)
* 오목판 이미지를 그리는 기능
* 놓인 돌들을 그리는 기능
* 차례를 보여주는 기능
* 마이턴인 플레이어에게
* 현재 마우스 위치가 점의 범위 안에 들어오는지 확인
* 해당하는 점에 돌이 존재하지 않는지 확인
* 해당하는 점에 놓으면 금수가 아닌지 확인
* 위 3가지가 모두 맞으면 마우스 모양을 핸드로 바꿔줌
* 마우스 왼쪽 버튼을 클릭하면 돌을 놓는다.
* 오목이면 승리를 알려주고, 상대에게 패배를 알려줌
* 오목이면 (게임 상태 : 진행 -> 팝업)
* 게임 종료 시 팝업창을 띄워줌
* 오목이 아니면 차례를 넘긴다.
* 상대 플레이어가 도중에 강제종료 시 게임 상태 : 진행 -> 팝업
* 팝업 : 게임을 종료할건지 대기로 갈건지 선택할 수 있는 기능

## 화면 설계서
### 대기화면
* 들어온 플레이어를 표시
* 플레이어의 바둑돌 색을 표시
* 게임 시작버튼을 표시 (활성화/ 비활성화)
* 게임 시작버튼이 모두 눌리면 진행화면으로 전환

### 진행화면
* 오목판 이미지 표시
* 놓인 돌들 표시
* 플레이어의 차례 표시
* 마이턴인 플레이어에게
	* 마우스 모양을 HAND 또는 ARROW 로 표시
* 한 플레이어가 승리 시 '승리 팝업창' 전환
* 한 플레이어가 도중에 나갈 경우 '오류 팝업창' 전환

### 팝업창
* 승리 팝업창
	* 승리 플레이어/ 패배 플레이어 표시
* 오류 팝업창
	* 상대 플레이어가 나갔다고 표시
* 공통 사항
	* 대기화면으로 가는 버튼
	* 게임을 종료하는 버튼

## 클래스 다이어그램 (간략)
### Server
#### main 클래스
* 서버 소켓 포트 지정
* 서버 스레드 스타트  자바 채팅에서 참고
* 클라이언트로부터 받은 돌을 놓은 위치 정보를 돌 정보에 대입
* 오목인지 확인 winCheck()

#### ReceiveThread 클래스
* 클라이언트가 준비 완료 버튼을 눌렀는지 여부를 받아오기 getReady()
* 클라이언트의 주사위 숫자 정보 받아오기 getDiceNumber()
* 클라이언트가 돌을 놓은 위치 정보(클릭한 위치 정보) 받아오기 getPos()

#### SendThread 클래스
* 준비 완료 버튼이 모두 눌렸을 경우, 3,2,1 보내주고 주사위 굴릴 수 있는 여부 전송 sendDice()
* 각 클라이언트의 돌 색깔 정보 보내주기  setColor()
* ** 턴 정보 보내주기**
* 현재 각 점들에 대한 돌 정보를 클라이언트에게 전송 sendStatus()
* winCheck()에 대한 결과를 전송 sendWin()

### 클라이언트
#### PApplet 을 상속하는 Omok 클래스
* 현재 창(게임판, 돌들)을 그려주기 draw()
* 주사위 굴리기 Dice()
* 게임이 끝나면, 승리, 패배 표시 후 준비 화면으로 돌려주기

#### Connect 클래스
* 서버와 연결

#### receiveThread 클래스
* 서버로부터 두 플레이어가 모두 들어왔는지 여부를 받아오기
* 준비 완료버튼이 모두 눌렸는지 받아오기
* 자신의 돌 색깔 받아오기
* 전체 돌 정보 받아오기
* winCheck()에 대한 결과 받아오기 

#### sendThread 클래스
* 준비완료 버튼 누른 여부 보내주기
* 자신의 주사위 숫자를 보내주기
* 돌을 놓은 위치 정보(클릭한 위치) 보내주기